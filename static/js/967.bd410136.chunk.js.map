{"version":3,"file":"static/js/967.bd410136.chunk.js","mappings":"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","sources":["pages/ManageGroupMember/helpers/renderExistedContactsText.js","pages/ManageGroupMember/helpers/renderContactsToAddInGroupList.js","pages/ManageGroupMember/ManageGroupMember.jsx"],"sourcesContent":["import { Text } from 'shared/commonStyledComponents.jsx';\n\nexport const renderExistedContactsText = existedContacts => {\n  if (!existedContacts.length) return null;\n  const contactNames = existedContacts.map(contact => contact.name);\n  const contactsNamesString = contactNames.join(', ');\n\n  return (\n    <Text>\n      The following contacts have already been added to the group :{' '}\n      <b>{contactsNamesString}</b>\n    </Text>\n  );\n};\n","import { LabelList, LabelButton } from 'shared/commonStyledComponents.jsx';\n\nexport const renderContactsToAddInGroupList = (\n  contactsToAddInGroup,\n  handleContactSelect\n) => {\n  if (!contactsToAddInGroup.length) {\n    return null;\n  }\n\n  return (\n    <LabelList>\n      {contactsToAddInGroup.map(contact => (\n        <li key={contact.id}>\n          <LabelButton\n            type=\"button\"\n            className={contactsToAddInGroup.includes(contact) ? 'selected' : ''}\n            onClick={() => handleContactSelect(contact)}\n          >\n            {contact.name}: {contact.number}\n          </LabelButton>\n        </li>\n      ))}\n    </LabelList>\n  );\n};\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport Select from 'react-select';\nimport { AppBar } from 'components';\nimport { Section } from 'shared';\nimport {\n  selectGroups,\n  deleteContactFromGroup,\n  addContactToGroup,\n} from 'redux/groups';\nimport { selectContacts, fetchContacts } from 'redux/contacts';\nimport {\n  ContentWrapper,\n  BackButton,\n  Text,\n} from 'shared/commonStyledComponents.jsx';\nimport {\n  renderIcons,\n  getContactsByGroupName,\n  getOriginalGroupName,\n  getAvailableToSelectContacts,\n} from 'utils';\nimport { showGroupManageContactsSuccess } from 'utils/notifications';\nimport { ICON_NAMES, ICON_SIZES } from 'constants';\nimport {\n  renderExistedContactsText,\n  renderContactsToAddInGroupList,\n} from './helpers';\n\nconst ManageGroupMember = () => {\n  const dispatch = useDispatch();\n  const { groupName } = useParams();\n  const allContacts = useSelector(selectContacts);\n  const groups = useSelector(selectGroups);\n\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n\n  const choseContactToAddInGroup = contact => {\n    setContactsToAddInGroup(prevContacts => [...prevContacts, contact]);\n    dispatch(addContactToGroup({ group: originalGroupName, contact }));\n  };\n\n  const handleContactSelect = contact => {\n    const isSelected = contactsToAddInGroup\n      .map(el => el.id)\n      .includes(contact.id);\n\n    if (isSelected) {\n      setContactsToAddInGroup(\n        contactsToAddInGroup.filter(el => el.id !== contact.id)\n      );\n      dispatch(\n        deleteContactFromGroup({\n          group: originalGroupName,\n          contact,\n        })\n      );\n    }\n  };\n  const handleBackButtonClick = () =>\n    showGroupManageContactsSuccess(originalGroupName, contactsInGroup);\n\n  const contactsInGroup = useMemo(\n    () => getContactsByGroupName({ groupName, groups }),\n    [groupName, groups]\n  );\n\n  const contactsAvailableToSelect = useMemo(\n    () => getAvailableToSelectContacts(contactsInGroup, allContacts),\n    [contactsInGroup, allContacts]\n  );\n\n  const originalGroupName = useMemo(\n    () => getOriginalGroupName({ groupName, groups }),\n    // eslint-disable-next-line\n    [groupName]\n  );\n\n  const [contactsToAddInGroup, setContactsToAddInGroup] =\n    useState(contactsInGroup);\n  const [existedContactsInGroup, setExistedContactsInGroup] = useState([]);\n\n  useEffect(() => {\n    setExistedContactsInGroup(contactsInGroup);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const options = contactsAvailableToSelect.map(contact => ({\n    label: `${contact.name}: ${contact.number} `,\n    value: contact,\n  }));\n\n  const customStyles = {\n    control: provided => ({\n      ...provided,\n      border: `2px solid #fab7d2`,\n      borderColor: `#fab7d2`,\n      borderRadius: '10px',\n      '&:hover': {\n        borderColor: '#ef4287',\n      },\n      boxShadow: null,\n    }),\n    option: (provided, state) => ({\n      ...provided,\n      backgroundColor: state.isFocused ? '#fde7f0' : null,\n      color: state.isSelected ? '#100f10' : null,\n      fontSize: '12px',\n    }),\n  };\n\n  return (\n    <>\n      <AppBar />\n      <main>\n        <Section>\n          <ContentWrapper>\n            <BackButton to=\"/groups\" onClick={handleBackButtonClick}>\n              <button type=\"button\" aria-label=\"Back to previous page\">\n                {renderIcons(ICON_NAMES.BACK_ARROW, ICON_SIZES.LARGE)}\n              </button>\n            </BackButton>\n            <>\n              {renderExistedContactsText(existedContactsInGroup)}\n              <Text>\n                Choose contacts to add to the group <b>\"{originalGroupName}\"</b>\n              </Text>\n              <Select\n                options={options}\n                onChange={option => choseContactToAddInGroup(option.value)}\n                styles={customStyles}\n              />\n\n              {renderContactsToAddInGroupList(\n                contactsToAddInGroup,\n                handleContactSelect\n              )}\n            </>\n          </ContentWrapper>\n        </Section>\n      </main>\n    </>\n  );\n};\n\nexport default ManageGroupMember;\n"],"names":["renderExistedContactsText","existedContacts","length","contactsNamesString","map","contact","name","join","renderContactsToAddInGroupList","contactsToAddInGroup","handleContactSelect","type","className","includes","onClick","number","id","dispatch","useDispatch","groupName","useParams","allContacts","useSelector","selectContacts","groups","selectGroups","useEffect","fetchContacts","contactsInGroup","useMemo","getContactsByGroupName","contactsAvailableToSelect","getAvailableToSelectContacts","originalGroupName","getOriginalGroupName","useState","setContactsToAddInGroup","existedContactsInGroup","setExistedContactsInGroup","options","label","value","customStyles","control","provided","border","borderColor","borderRadius","boxShadow","option","state","backgroundColor","isFocused","color","isSelected","fontSize","to","showGroupManageContactsSuccess","renderIcons","ICON_NAMES","ICON_SIZES","onChange","prevContacts","addContactToGroup","group","styles","el","filter","deleteContactFromGroup"],"sourceRoot":""}